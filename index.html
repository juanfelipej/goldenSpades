<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picas dorado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="css/estilos.css">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
</head>

<body class="flex-colum">
    <div id="overlay" style="display: none;"></div>
    <div id="loading-indicator" style="display: none;">
        <div class="spinner"></div>
    </div>
    <main class="flex-colum">
        <img class="logoGolden" src="recursos/gif/goldenspades.gif" alt="">
        <img id="logoMP" src="recursos/png/casinoMarcoPolo.png" alt="Logo casino marco polo">
        <h1 class="josefin-sans-bold">¡Felicidades!</h1>
        <h2 class="josefin-sans-normal">Está a solo un paso de reclamar sus</h2>
        <img src="./recursos/png/450000.png" alt="logo dorado cuatrocientos cincuentamil pesos">
        <p class="promocional josefin-sans-ligth">En dinero promocional</p>
        <p class="josefin-sans-ligth oportunidad">No se pierda esta oportunidad <br>única de ser parte de lo mejor.</p>

        <form name="contact-form" class="flex-colum">
            <input class="form-control-custom" type="text" name="nombre" placeholder="Nombre y apellido" required>
            <input class="form-control-custom" type="number" name="cedula" placeholder="Cédula" required>
            <input class="form-control-custom" type="tel" name="celular" placeholder="Celular" required>
            <div class="flex-row cont-tyc">
                <input type="checkbox" name="autorizacion" required>
                <label class="josefin-sans-normal" id="tyc" for="autorizacion">Autorizo el uso de mis datos para entrega de premios.</label>
            </div>
            <button type="submit" class="josefin-sans-bold">Enviar</button>
        </form>
        <div class="logoColjuegos">
            <img src="recursos/png/coljuegos.png" alt="Logo autoriza coljuegos">
        </div>
    </main>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxNzG26k3MUtNPVCpioXIiU1jOdgQKvK3Z67cu7A_WnGgE4Mvzpze7DhBxW4nnu9_7WLg/exec';
        const form = document.forms['contact-form'];
        const overlay = document.getElementById('overlay');
        const loadingIndicator = document.getElementById('loading-indicator');

        form.addEventListener('submit', e => {
            e.preventDefault();

            const formData = new FormData(form);

            overlay.style.display = 'block';
            loadingIndicator.style.display = 'block';

            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => {
                    if (response.ok) {
                        window.location.href = 'https://easyguess.com/confirmacion.html';
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                })
                .catch(error => console.error('Error!', error.message))
                .finally(() => {
                    overlay.style.display = 'none';
                    loadingIndicator.style.display = 'none';
                });
        });
    </script>
</body>

</html>
